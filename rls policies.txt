[
  {
    "schemaname": "public",
    "tablename": "abba_line",
    "policyname": "abba_line_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "abba_line",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "audit_log",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "bracket_nodes",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "bracket_nodes",
    "policyname": "bracket_nodes_delete_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_delete'::text) OR has_event_permission('event_delete'::text, ( SELECT b.event_id\n   FROM brackets b\n  WHERE (b.id = bracket_nodes.bracket_id))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "bracket_nodes",
    "policyname": "bracket_nodes_insert_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_insert'::text) OR has_event_permission('event_insert'::text, ( SELECT b.event_id\n   FROM brackets b\n  WHERE (b.id = bracket_nodes.bracket_id))))"
  },
  {
    "schemaname": "public",
    "tablename": "bracket_nodes",
    "policyname": "bracket_nodes_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "bracket_nodes",
    "policyname": "bracket_nodes_update_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR has_event_permission('event_update'::text, ( SELECT b.event_id\n   FROM brackets b\n  WHERE (b.id = bracket_nodes.bracket_id))))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR has_event_permission('event_update'::text, ( SELECT b.event_id\n   FROM brackets b\n  WHERE (b.id = bracket_nodes.bracket_id))))"
  },
  {
    "schemaname": "public",
    "tablename": "brackets",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "brackets",
    "policyname": "brackets_delete_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_delete'::text) OR has_event_permission('event_delete'::text, event_id))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "brackets",
    "policyname": "brackets_insert_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_insert'::text) OR has_event_permission('event_insert'::text, event_id))"
  },
  {
    "schemaname": "public",
    "tablename": "brackets",
    "policyname": "brackets_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "brackets",
    "policyname": "brackets_update_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR has_event_permission('event_update'::text, event_id))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR has_event_permission('event_update'::text, event_id))"
  },
  {
    "schemaname": "public",
    "tablename": "division_teams",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "division_teams",
    "policyname": "division_teams_delete_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_delete'::text) OR has_event_permission('event_delete'::text, ( SELECT d.event_id\n   FROM divisions d\n  WHERE (d.id = division_teams.division_id))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "division_teams",
    "policyname": "division_teams_insert_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_insert'::text) OR has_event_permission('event_insert'::text, ( SELECT d.event_id\n   FROM divisions d\n  WHERE (d.id = division_teams.division_id))))"
  },
  {
    "schemaname": "public",
    "tablename": "division_teams",
    "policyname": "division_teams_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "division_teams",
    "policyname": "division_teams_update_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR has_event_permission('event_update'::text, ( SELECT d.event_id\n   FROM divisions d\n  WHERE (d.id = division_teams.division_id))))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR has_event_permission('event_update'::text, ( SELECT d.event_id\n   FROM divisions d\n  WHERE (d.id = division_teams.division_id))))"
  },
  {
    "schemaname": "public",
    "tablename": "divisions",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "divisions",
    "policyname": "divisions_delete_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_delete'::text) OR has_event_permission('event_delete'::text, event_id))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "divisions",
    "policyname": "divisions_insert_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_insert'::text) OR has_event_permission('event_insert'::text, event_id))"
  },
  {
    "schemaname": "public",
    "tablename": "divisions",
    "policyname": "divisions_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "divisions",
    "policyname": "divisions_update_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR has_event_permission('event_update'::text, event_id))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR has_event_permission('event_update'::text, event_id))"
  },
  {
    "schemaname": "public",
    "tablename": "event_user_roles",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "event_user_roles",
    "policyname": "event_roles_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "event_user_roles",
    "policyname": "event_user_roles_edit",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('role_edit'::text))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('role_edit'::text))"
  },
  {
    "schemaname": "public",
    "tablename": "event_venues",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "event_venues",
    "policyname": "event_venues_delete_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_delete'::text) OR has_event_permission('event_delete'::text, event_id))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "event_venues",
    "policyname": "event_venues_insert",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_insert'::text) OR has_event_permission('event_insert'::text, event_id))"
  },
  {
    "schemaname": "public",
    "tablename": "event_venues",
    "policyname": "event_venues_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "event_venues",
    "policyname": "event_venues_update",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR has_event_permission('event_update'::text, event_id))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR has_event_permission('event_update'::text, event_id))"
  },
  {
    "schemaname": "public",
    "tablename": "events",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "events",
    "policyname": "events_delete_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_delete'::text) OR has_event_permission('event_delete'::text, id))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "events",
    "policyname": "events_insert_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_insert'::text))"
  },
  {
    "schemaname": "public",
    "tablename": "events",
    "policyname": "events_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "events",
    "policyname": "events_update_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR has_event_permission('event_update'::text, id))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR has_event_permission('event_update'::text, id))"
  },
  {
    "schemaname": "public",
    "tablename": "genders",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "genders",
    "policyname": "genders_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "live_events",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "live_events",
    "policyname": "live_events_delete_configure",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('configure_events'::text))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "live_events",
    "policyname": "live_events_insert_matches",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('edit_matches'::text) OR has_event_permission('edit_matches'::text, ( SELECT m.event_id\n   FROM matches m\n  WHERE (m.id = live_events.match_id))))"
  },
  {
    "schemaname": "public",
    "tablename": "live_events",
    "policyname": "live_events_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "live_events",
    "policyname": "live_events_update_matches",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('edit_matches'::text) OR has_event_permission('edit_matches'::text, ( SELECT m.event_id\n   FROM matches m\n  WHERE (m.id = live_events.match_id))))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('edit_matches'::text) OR has_event_permission('edit_matches'::text, ( SELECT m.event_id\n   FROM matches m\n  WHERE (m.id = live_events.match_id))))"
  },
  {
    "schemaname": "public",
    "tablename": "match_events",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "match_events",
    "policyname": "match_events_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "match_logs",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "match_logs",
    "policyname": "match_logs_delete_match",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('match_delete'::text) OR has_event_permission('match_delete'::text, ( SELECT m.event_id\n   FROM matches m\n  WHERE (m.id = match_logs.match_id))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "match_logs",
    "policyname": "match_logs_insert",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('match_insert'::text) OR has_event_permission('match_insert'::text, ( SELECT m.event_id\n   FROM matches m\n  WHERE (m.id = match_logs.match_id))))"
  },
  {
    "schemaname": "public",
    "tablename": "match_logs",
    "policyname": "match_logs_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "match_logs",
    "policyname": "match_logs_update",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('match_update'::text) OR has_event_permission('match_update'::text, ( SELECT m.event_id\n   FROM matches m\n  WHERE (m.id = match_logs.match_id))))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('match_update'::text) OR has_event_permission('match_update'::text, ( SELECT m.event_id\n   FROM matches m\n  WHERE (m.id = match_logs.match_id))))"
  },
  {
    "schemaname": "public",
    "tablename": "match_status",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "match_status",
    "policyname": "match_status_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "matches",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "matches",
    "policyname": "matches_delete_match",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('match_delete'::text) OR has_event_permission('match_delete'::text, event_id))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "matches",
    "policyname": "matches_insert_match",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('match_insert'::text) OR has_event_permission('match_insert'::text, event_id))"
  },
  {
    "schemaname": "public",
    "tablename": "matches",
    "policyname": "matches_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "matches",
    "policyname": "matches_update_match",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('match_update'::text) OR has_event_permission('match_update'::text, event_id))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('match_update'::text) OR has_event_permission('match_update'::text, event_id))"
  },
  {
    "schemaname": "public",
    "tablename": "permissions",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "permissions",
    "policyname": "permissions_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "player",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "player",
    "policyname": "player_delete_player_delete",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('player_delete'::text) OR (EXISTS ( SELECT 1\n   FROM team_roster tr\n  WHERE ((tr.player_id = player.id) AND has_event_permission('player_delete'::text, tr.event_id)))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "player",
    "policyname": "player_insert_player_insert",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('player_insert'::text) OR (EXISTS ( SELECT 1\n   FROM ((event_user_roles eur\n     JOIN role_permissions rp ON ((rp.role_id = eur.role_id)))\n     JOIN permissions p ON ((p.id = rp.permission_id)))\n  WHERE ((eur.user_id = auth.uid()) AND (lower(p.key) = 'player_insert'::text)))))"
  },
  {
    "schemaname": "public",
    "tablename": "player",
    "policyname": "player_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "player",
    "policyname": "player_update_player_update",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('player_update'::text) OR (EXISTS ( SELECT 1\n   FROM team_roster tr\n  WHERE ((tr.player_id = player.id) AND has_event_permission('player_update'::text, tr.event_id)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('player_update'::text) OR (EXISTS ( SELECT 1\n   FROM team_roster tr\n  WHERE ((tr.player_id = player.id) AND has_event_permission('player_update'::text, tr.event_id)))))"
  },
  {
    "schemaname": "public",
    "tablename": "player_match_stats",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "player_match_stats",
    "policyname": "player_match_stats_delete_match",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('match_delete'::text) OR has_event_permission('match_delete'::text, ( SELECT m.event_id\n   FROM matches m\n  WHERE (m.id = player_match_stats.match_id))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "player_match_stats",
    "policyname": "player_match_stats_insert_match",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('match_insert'::text) OR has_event_permission('match_insert'::text, ( SELECT m.event_id\n   FROM matches m\n  WHERE (m.id = player_match_stats.match_id))))"
  },
  {
    "schemaname": "public",
    "tablename": "player_match_stats",
    "policyname": "player_match_stats_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "player_match_stats",
    "policyname": "player_match_stats_update_match",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('match_update'::text) OR has_event_permission('match_update'::text, ( SELECT m.event_id\n   FROM matches m\n  WHERE (m.id = player_match_stats.match_id))))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('match_update'::text) OR has_event_permission('match_update'::text, ( SELECT m.event_id\n   FROM matches m\n  WHERE (m.id = player_match_stats.match_id))))"
  },
  {
    "schemaname": "public",
    "tablename": "player_statistics",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "player_statistics",
    "policyname": "player_statistics_delete_match",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('match_delete'::text) OR (EXISTS ( SELECT 1\n   FROM team_roster tr\n  WHERE ((tr.player_id = player_statistics.player_id) AND has_event_permission('match_delete'::text, tr.event_id)))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "player_statistics",
    "policyname": "player_statistics_insert_match",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('match_insert'::text) OR (EXISTS ( SELECT 1\n   FROM team_roster tr\n  WHERE ((tr.player_id = player_statistics.player_id) AND has_event_permission('match_insert'::text, tr.event_id)))))"
  },
  {
    "schemaname": "public",
    "tablename": "player_statistics",
    "policyname": "player_statistics_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "player_statistics",
    "policyname": "player_statistics_update_match",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('match_update'::text) OR (EXISTS ( SELECT 1\n   FROM team_roster tr\n  WHERE ((tr.player_id = player_statistics.player_id) AND has_event_permission('match_update'::text, tr.event_id)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('match_update'::text) OR (EXISTS ( SELECT 1\n   FROM team_roster tr\n  WHERE ((tr.player_id = player_statistics.player_id) AND has_event_permission('match_update'::text, tr.event_id)))))"
  },
  {
    "schemaname": "public",
    "tablename": "pool_teams",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "pool_teams",
    "policyname": "pool_teams_delete_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_delete'::text) OR has_event_permission('event_delete'::text, ( SELECT d.event_id\n   FROM (pools p\n     JOIN divisions d ON ((d.id = p.division_id)))\n  WHERE (p.id = pool_teams.pool_id))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "pool_teams",
    "policyname": "pool_teams_insert_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_insert'::text) OR has_event_permission('event_insert'::text, ( SELECT d.event_id\n   FROM (pools p\n     JOIN divisions d ON ((d.id = p.division_id)))\n  WHERE (p.id = pool_teams.pool_id))))"
  },
  {
    "schemaname": "public",
    "tablename": "pool_teams",
    "policyname": "pool_teams_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "pool_teams",
    "policyname": "pool_teams_update_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR has_event_permission('event_update'::text, ( SELECT d.event_id\n   FROM (pools p\n     JOIN divisions d ON ((d.id = p.division_id)))\n  WHERE (p.id = pool_teams.pool_id))))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR has_event_permission('event_update'::text, ( SELECT d.event_id\n   FROM (pools p\n     JOIN divisions d ON ((d.id = p.division_id)))\n  WHERE (p.id = pool_teams.pool_id))))"
  },
  {
    "schemaname": "public",
    "tablename": "pools",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "pools",
    "policyname": "pools_delete_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_delete'::text) OR has_event_permission('event_delete'::text, ( SELECT d.event_id\n   FROM divisions d\n  WHERE (d.id = pools.division_id))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "pools",
    "policyname": "pools_insert_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_insert'::text) OR has_event_permission('event_insert'::text, ( SELECT d.event_id\n   FROM divisions d\n  WHERE (d.id = pools.division_id))))"
  },
  {
    "schemaname": "public",
    "tablename": "pools",
    "policyname": "pools_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "pools",
    "policyname": "pools_update_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR has_event_permission('event_update'::text, ( SELECT d.event_id\n   FROM divisions d\n  WHERE (d.id = pools.division_id))))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR has_event_permission('event_update'::text, ( SELECT d.event_id\n   FROM divisions d\n  WHERE (d.id = pools.division_id))))"
  },
  {
    "schemaname": "public",
    "tablename": "profiles",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "profiles",
    "policyname": "profiles_delete_role_edit",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('role_edit'::text))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "profiles",
    "policyname": "profiles_insert_self_or_role_edit",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR (auth.uid() = id) OR has_permission('role_edit'::text))"
  },
  {
    "schemaname": "public",
    "tablename": "profiles",
    "policyname": "profiles_read_self_or_role_edit",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "((auth.role() = 'service_role'::text) OR (auth.uid() = id) OR has_permission('role_edit'::text))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "profiles",
    "policyname": "profiles_update_self_or_role_edit",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR (auth.uid() = id) OR has_permission('role_edit'::text))",
    "with_check": "((auth.role() = 'service_role'::text) OR (auth.uid() = id) OR has_permission('role_edit'::text))"
  },
  {
    "schemaname": "public",
    "tablename": "push_subscriptions",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "push_subscriptions",
    "policyname": "push_subscriptions_delete_owner",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR (profile_id = auth.uid()) OR has_permission('manage_users'::text))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "push_subscriptions",
    "policyname": "push_subscriptions_read_owner",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('manage_users'::text) OR (profile_id = auth.uid()))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "push_subscriptions",
    "policyname": "push_subscriptions_update_owner",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR (profile_id = auth.uid()))",
    "with_check": "((auth.role() = 'service_role'::text) OR (profile_id = auth.uid()))"
  },
  {
    "schemaname": "public",
    "tablename": "push_subscriptions",
    "policyname": "push_subscriptions_write_owner",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR (profile_id = auth.uid()))"
  },
  {
    "schemaname": "public",
    "tablename": "role_permissions",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "role_permissions",
    "policyname": "role_permissions_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "roles",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "roles",
    "policyname": "roles_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "scoreboard_device_subscriptions",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "scoreboard_device_subscriptions",
    "policyname": "scoreboard_device_subscriptions_owner_delete",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('manage_users'::text) OR (created_by = auth.uid()))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "scoreboard_device_subscriptions",
    "policyname": "scoreboard_device_subscriptions_owner_read",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('manage_users'::text) OR (created_by = auth.uid()))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "scoreboard_device_subscriptions",
    "policyname": "scoreboard_device_subscriptions_owner_update",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('manage_users'::text) OR (created_by = auth.uid()))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('manage_users'::text) OR (created_by = auth.uid()))"
  },
  {
    "schemaname": "public",
    "tablename": "scoreboard_device_subscriptions",
    "policyname": "scoreboard_device_subscriptions_owner_write",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR (created_by = auth.uid()))"
  },
  {
    "schemaname": "public",
    "tablename": "scoreboard_devices",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "scoreboard_devices",
    "policyname": "scoreboard_devices_owner_delete",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('manage_users'::text) OR (profile_id = auth.uid()))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "scoreboard_devices",
    "policyname": "scoreboard_devices_owner_read",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('manage_users'::text) OR (profile_id = auth.uid()))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "scoreboard_devices",
    "policyname": "scoreboard_devices_owner_update",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('manage_users'::text) OR (profile_id = auth.uid()))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('manage_users'::text) OR (profile_id = auth.uid()))"
  },
  {
    "schemaname": "public",
    "tablename": "scoreboard_devices",
    "policyname": "scoreboard_devices_owner_write",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR (profile_id = auth.uid()))"
  },
  {
    "schemaname": "public",
    "tablename": "scoreboard_match_snapshots",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "scoreboard_match_snapshots",
    "policyname": "scoreboard_match_snapshots_admin_only",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('manage_users'::text))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('manage_users'::text))"
  },
  {
    "schemaname": "public",
    "tablename": "spirit_scores",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "spirit_scores",
    "policyname": "spirit_scores_insert",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('match_insert'::text) OR has_event_permission('match_insert'::text, ( SELECT m.event_id\n   FROM matches m\n  WHERE (m.id = spirit_scores.match_id))))"
  },
  {
    "schemaname": "public",
    "tablename": "spirit_scores",
    "policyname": "spirit_scores_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "spirit_scores",
    "policyname": "spirit_scores_update",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('match_update'::text) OR has_event_permission('match_update'::text, ( SELECT m.event_id\n   FROM matches m\n  WHERE (m.id = spirit_scores.match_id))))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('match_update'::text) OR has_event_permission('match_update'::text, ( SELECT m.event_id\n   FROM matches m\n  WHERE (m.id = spirit_scores.match_id))))"
  },
  {
    "schemaname": "public",
    "tablename": "subscriptions",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "subscriptions",
    "policyname": "subscriptions_delete_owner",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR (profile_id = auth.uid()) OR has_permission('manage_users'::text))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "subscriptions",
    "policyname": "subscriptions_read_owner",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('manage_users'::text) OR (profile_id = auth.uid()))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "subscriptions",
    "policyname": "subscriptions_update_owner",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR (profile_id = auth.uid()))",
    "with_check": "((auth.role() = 'service_role'::text) OR (profile_id = auth.uid()))"
  },
  {
    "schemaname": "public",
    "tablename": "subscriptions",
    "policyname": "subscriptions_write_owner",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR (profile_id = auth.uid()))"
  },
  {
    "schemaname": "public",
    "tablename": "team_roster",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "team_roster",
    "policyname": "team_roster_delete_team_delete",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('team_delete'::text) OR has_event_permission('team_delete'::text, event_id))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "team_roster",
    "policyname": "team_roster_insert_team_insert",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('team_insert'::text) OR has_event_permission('team_insert'::text, event_id))"
  },
  {
    "schemaname": "public",
    "tablename": "team_roster",
    "policyname": "team_roster_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "team_roster",
    "policyname": "team_roster_update_team_update",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('team_update'::text) OR has_event_permission('team_update'::text, event_id))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('team_update'::text) OR has_event_permission('team_update'::text, event_id))"
  },
  {
    "schemaname": "public",
    "tablename": "teams",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "teams",
    "policyname": "teams_delete_team_delete",
    "permissive": "PERMISSIVE",
    "roles": "{authenticated}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('team_delete'::text) OR (EXISTS ( SELECT 1\n   FROM ((event_user_roles eur\n     JOIN role_permissions rp ON ((rp.role_id = eur.role_id)))\n     JOIN permissions p ON ((p.id = rp.permission_id)))\n  WHERE ((eur.user_id = auth.uid()) AND (lower(p.key) = 'team_delete'::text)))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "teams",
    "policyname": "teams_insert_team_insert",
    "permissive": "PERMISSIVE",
    "roles": "{authenticated}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('team_insert'::text) OR (EXISTS ( SELECT 1\n   FROM ((event_user_roles eur\n     JOIN role_permissions rp ON ((rp.role_id = eur.role_id)))\n     JOIN permissions p ON ((p.id = rp.permission_id)))\n  WHERE ((eur.user_id = auth.uid()) AND (lower(p.key) = 'team_insert'::text)))))"
  },
  {
    "schemaname": "public",
    "tablename": "teams",
    "policyname": "teams_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "teams",
    "policyname": "teams_update_team_update",
    "permissive": "PERMISSIVE",
    "roles": "{authenticated}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('team_update'::text) OR (EXISTS ( SELECT 1\n   FROM ((event_user_roles eur\n     JOIN role_permissions rp ON ((rp.role_id = eur.role_id)))\n     JOIN permissions p ON ((p.id = rp.permission_id)))\n  WHERE ((eur.user_id = auth.uid()) AND (lower(p.key) = 'team_update'::text)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('team_update'::text) OR (EXISTS ( SELECT 1\n   FROM ((event_user_roles eur\n     JOIN role_permissions rp ON ((rp.role_id = eur.role_id)))\n     JOIN permissions p ON ((p.id = rp.permission_id)))\n  WHERE ((eur.user_id = auth.uid()) AND (lower(p.key) = 'team_update'::text)))))"
  },
  {
    "schemaname": "public",
    "tablename": "user_roles",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "user_roles",
    "policyname": "user_roles_edit",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('role_edit'::text))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('role_edit'::text))"
  },
  {
    "schemaname": "public",
    "tablename": "user_roles",
    "policyname": "user_roles_owner_read",
    "permissive": "PERMISSIVE",
    "roles": "{authenticated}",
    "cmd": "SELECT",
    "using_expression": "(( SELECT auth.uid() AS uid) = user_id)",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "venues",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "venues",
    "policyname": "venues_delete_event",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_delete'::text) OR (EXISTS ( SELECT 1\n   FROM event_venues ev\n  WHERE ((ev.venue_id = venues.id) AND has_event_permission('event_delete'::text, ev.event_id)))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "venues",
    "policyname": "venues_insert",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "using_expression": null,
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_insert'::text) OR (EXISTS ( SELECT 1\n   FROM ((event_user_roles eur\n     JOIN role_permissions rp ON ((rp.role_id = eur.role_id)))\n     JOIN permissions p ON ((p.id = rp.permission_id)))\n  WHERE ((eur.user_id = auth.uid()) AND (lower(p.key) = 'event_insert'::text)))))"
  },
  {
    "schemaname": "public",
    "tablename": "venues",
    "policyname": "venues_read_public",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "using_expression": "true",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "venues",
    "policyname": "venues_update",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR (EXISTS ( SELECT 1\n   FROM event_venues ev\n  WHERE ((ev.venue_id = venues.id) AND has_event_permission('event_update'::text, ev.event_id)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('event_update'::text) OR (EXISTS ( SELECT 1\n   FROM event_venues ev\n  WHERE ((ev.venue_id = venues.id) AND has_event_permission('event_update'::text, ev.event_id)))))"
  },
  {
    "schemaname": "public",
    "tablename": "webhook_deliveries",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "webhook_deliveries",
    "policyname": "webhook_deliveries_admin_only",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('manage_users'::text))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('manage_users'::text))"
  },
  {
    "schemaname": "public",
    "tablename": "webhook_endpoints",
    "policyname": "admin_override",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))",
    "with_check": "((auth.role() = 'service_role'::text) OR (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = auth.uid()) AND (ur.role_id = 11)))))"
  },
  {
    "schemaname": "public",
    "tablename": "webhook_endpoints",
    "policyname": "webhook_endpoints_admin_only",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "ALL",
    "using_expression": "((auth.role() = 'service_role'::text) OR has_permission('manage_users'::text))",
    "with_check": "((auth.role() = 'service_role'::text) OR has_permission('manage_users'::text))"
  }
]